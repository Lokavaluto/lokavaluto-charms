inherits: metabase

requires:
  odoo-server:
    interface: odoo-server
  comchain-db-sync:
    interface: comchain-db-sync

uses:
  postgres-database:
    #constraint: required | recommended | optional
    #auto: pair | summon | none ## default: pair
    constraint: required
    auto: summon
    solves:
      disk-leak: "main running server"
    default-options:
      extensions:
        - sqlite_fdw
  odoo-server:
    constraint: required
    auto: pair
    solves:
      missing-feature: "odoo database to read"
  comchain-db-sync:
    constraint: optional
    auto: pair
    solves:
      missing-feature: "transaction db"
  cyclos-server:
    constraint: optional
    auto: pair
    solves:
      missing-feature: "transaction db"
